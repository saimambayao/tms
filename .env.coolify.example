# BM Parliament Coolify Environment Configuration
# Copy this file to .env and update values for your production deployment

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================

# CRITICAL: Generate a new secret key for production
# Use: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=your-super-secret-key-here-change-this-in-production

# Domain configuration - update with your actual domain
ALLOWED_HOSTS=bmparliament.gov.ph,www.bmparliament.gov.ph,.bmparliament.gov.ph
SERVICE_FQDN_WEB=bmparliament.gov.ph

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Settings
POSTGRES_DB=bmparliament_production
POSTGRES_USER=bmparliament_user
POSTGRES_PASSWORD=your-secure-database-password-here

# Database URL (auto-generated from above variables)
# DATABASE_URL=postgresql://bmparliament_user:your-secure-database-password-here@db:5432/bmparliament_production

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================

# Redis Password for secure cache access
REDIS_PASSWORD=your-secure-redis-password-here

# Redis URL (auto-generated from password)
# REDIS_URL=redis://:your-secure-redis-password-here@redis:6379/0

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# SSL/HTTPS Configuration
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# =============================================================================
# NOTION API CONFIGURATION
# =============================================================================

# Notion Integration Token (get from https://www.notion.so/my-integrations)
NOTION_API_KEY=secret_your_notion_integration_token_here

# Primary Notion Database ID for constituents/registrants
NOTION_DATABASE_ID=your-notion-database-id-here

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP Settings for sending emails
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=noreply@bmparliament.gov.ph
EMAIL_HOST_PASSWORD=your-email-app-password-here
EMAIL_USE_TLS=True
DEFAULT_FROM_EMAIL=noreply@bmparliament.gov.ph

# =============================================================================
# AWS S3 CONFIGURATION (Optional - for file storage)
# =============================================================================

# AWS S3 for media file storage (optional)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_STORAGE_BUCKET_NAME=bmparliament-media
AWS_S3_REGION_NAME=ap-southeast-1

# CloudFront CDN (optional)
AWS_CLOUDFRONT_DOMAIN=your-cloudfront-domain.cloudfront.net

# =============================================================================
# CDN CONFIGURATION (Optional)
# =============================================================================

# CDN Configuration for static files
CDN_ENABLED=False
CDN_DOMAIN=cdn.bmparliament.gov.ph

# =============================================================================
# MONITORING & ERROR TRACKING
# =============================================================================

# Sentry Error Tracking (optional but recommended)
SENTRY_DSN=https://your-sentry-dsn-here@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Application Version for Sentry releases
APP_VERSION=1.0.0

# =============================================================================
# ADDITIONAL SECURITY SETTINGS
# =============================================================================

# Certificate Pinning (Advanced - use with caution)
ENABLE_CERTIFICATE_PINNING=False
PRIMARY_CERT_PIN=your-primary-certificate-sha256-pin
BACKUP_CERT_PIN=your-backup-certificate-sha256-pin

# Additional allowed hosts (comma-separated)
ADDITIONAL_ALLOWED_HOSTS=

# =============================================================================
# CELERY CONFIGURATION (Optional - for background tasks)
# =============================================================================

# Celery Broker and Result Backend (uses Redis)
CELERY_BROKER_URL=redis://:your-secure-redis-password-here@redis:6379/0
CELERY_RESULT_BACKEND=redis://:your-secure-redis-password-here@redis:6379/0

# =============================================================================
# PRODUCTION OPTIMIZATION
# =============================================================================

# Worker processes for Gunicorn (adjust based on VPS specs)
WEB_CONCURRENCY=3

# Database connection pooling
DB_CONN_MAX_AGE=600

# =============================================================================
# COOLIFY SPECIFIC VARIABLES
# =============================================================================

# These are automatically generated by Coolify but can be customized
# SERVICE_FQDN_WEB_8000=/
# SERVICE_PASSWORD_POSTGRES=auto-generated-by-coolify
# SERVICE_USER_POSTGRES=auto-generated-by-coolify

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================

# 1. Generate strong passwords for POSTGRES_PASSWORD and REDIS_PASSWORD
# 2. Create a new DJANGO_SECRET_KEY using Django's utility
# 3. Set up Notion integration and add the API key
# 4. Configure email settings with your SMTP provider
# 5. Set up AWS S3 if using cloud storage for media files
# 6. Configure Sentry for error tracking in production
# 7. Update ALLOWED_HOSTS with your actual domain
# 8. Test all settings in staging before production deployment

# Security Reminder:
# - Never commit this file with real credentials to version control
# - Use strong, unique passwords for all services
# - Enable 2FA on all third-party services (AWS, Notion, Sentry)
# - Regularly rotate passwords and API keys
# - Monitor access logs and set up alerts for suspicious activity
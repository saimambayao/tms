# #FahanieCares Production Environment Configuration for Coolify
# Copy this file to .env and configure your production values
# CRITICAL: Never commit the actual .env file to version control

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================

# Django Secret Key - Generate a new one for production
# Use: python -c "import secrets; print(secrets.token_urlsafe(50))"
SECRET_KEY=your-super-secret-production-key-here-change-this

# Debug Mode - MUST be False in production
DEBUG=False

# Allowed Hosts - Your domain(s) separated by commas
# Example: fahaniecares.gov.ph,www.fahaniecares.gov.ph,your-vps-ip
ALLOWED_HOSTS=fahaniecares.gov.ph,www.fahaniecares.gov.ph

# CSRF Trusted Origins - Add your domain with https://
CSRF_TRUSTED_ORIGINS=https://fahaniecares.gov.ph,https://www.fahaniecares.gov.ph

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Settings
DB_NAME=fahaniecares_prod
DB_USER=fahaniecares_user
# Generate strong password: openssl rand -base64 32
DB_PASSWORD=your-super-strong-database-password-here

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================

# Redis Password - Generate strong password: openssl rand -base64 32
REDIS_PASSWORD=your-super-strong-redis-password-here

# Cache Timeout (in seconds) - Default 1 hour
CACHE_TIMEOUT=3600

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# SSL/HTTPS Configuration
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# Session Security
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=True

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP Email Settings
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password
DEFAULT_FROM_EMAIL=#FahanieCares <noreply@fahaniecares.gov.ph>

# Admin Email for notifications
ADMIN_EMAIL=admin@fahaniecares.gov.ph
MAINTENANCE_EMAIL=tech@fahaniecares.gov.ph

# =============================================================================
# NOTION API INTEGRATION
# =============================================================================

# Notion API Configuration
NOTION_API_KEY=secret_your_notion_integration_token_here
NOTION_DATABASE_ID=your-notion-database-id-here

# =============================================================================
# AWS CONFIGURATION (Optional - for file storage)
# =============================================================================

# AWS S3 Settings (Optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_STORAGE_BUCKET_NAME=fahaniecares-media
AWS_S3_REGION_NAME=ap-southeast-1
AWS_S3_CUSTOM_DOMAIN=cdn.fahaniecares.gov.ph

# =============================================================================
# SENTRY ERROR TRACKING
# =============================================================================

# Sentry Configuration
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0

# =============================================================================
# PRODUCTION OPTIMIZATION
# =============================================================================

# Gunicorn Workers - Rule of thumb: (2 x CPU cores) + 1
GUNICORN_WORKERS=3

# File Upload Settings
FILE_UPLOAD_MAX_MEMORY_SIZE=5242880
DATA_UPLOAD_MAX_MEMORY_SIZE=5242880

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable comprehensive logging
ENABLE_DB_LOGGING=True
ENABLE_SECURITY_LOGGING=True

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles for production
ENABLE_REFERRAL_SYSTEM=False
ENABLE_MINISTRY_PROGRAMS=True
ENABLE_CHAPTERS=True
ENABLE_ANNOUNCEMENTS=True
ENABLE_CONSTITUENT_MANAGEMENT=True
ENABLE_STAFF_DIRECTORY=True

# =============================================================================
# RATE LIMITING
# =============================================================================

# API Rate Limiting (requests per minute)
API_RATE_LIMIT=100
LOGIN_RATE_LIMIT=5
REGISTRATION_RATE_LIMIT=3

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup Settings
BACKUP_RETENTION_DAYS=30
ENABLE_AUTO_BACKUP=True
BACKUP_SCHEDULE=0 2 * * *

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Google Maps API (if used)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# reCAPTCHA (if used)
RECAPTCHA_PUBLIC_KEY=your-recaptcha-public-key
RECAPTCHA_PRIVATE_KEY=your-recaptcha-private-key

# =============================================================================
# DOMAIN & SSL
# =============================================================================

# Production Domain
PRODUCTION_DOMAIN=fahaniecares.gov.ph

# SSL Certificate paths (if using custom certificates)
SSL_CERT_PATH=/etc/nginx/ssl/fahaniecares.crt
SSL_KEY_PATH=/etc/nginx/ssl/fahaniecares.key

# =============================================================================
# COOLIFY SPECIFIC SETTINGS
# =============================================================================

# Coolify Service URLs (automatically configured)
COOLIFY_APP_ID=your-coolify-app-id
COOLIFY_SERVICE_FQDN=fahaniecares.gov.ph

# Health Check URLs
HEALTH_CHECK_URL=/health/
READINESS_CHECK_URL=/ready/

# =============================================================================
# TIME ZONE & LOCALIZATION
# =============================================================================

# Time Zone
TIME_ZONE=Asia/Manila

# Language Code
LANGUAGE_CODE=en-us

# =============================================================================
# ANALYTICS & TRACKING (Optional)
# =============================================================================

# Google Analytics
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Meta Pixel (Facebook)
META_PIXEL_ID=123456789

# =============================================================================
# MOBILE APP SETTINGS
# =============================================================================

# PWA Configuration
PWA_APP_NAME=#FahanieCares
PWA_APP_DESCRIPTION=Bringing Public Service Closer to You
PWA_APP_THEME_COLOR=#22c55e
PWA_APP_BACKGROUND_COLOR=#ffffff

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# Content Security Policy
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline' https://cdn.jsdelivr.net
CSP_STYLE_SRC='self' 'unsafe-inline' https://fonts.googleapis.com
CSP_FONT_SRC='self' https://fonts.gstatic.com
CSP_IMG_SRC='self' data: https:

# =============================================================================
# DEVELOPMENT OVERRIDES (Remove in production)
# =============================================================================

# Only for development - REMOVE THESE IN PRODUCTION
# DEBUG=True
# ALLOWED_HOSTS=*
# SECURE_SSL_REDIRECT=False

# =============================================================================
# ENVIRONMENT VALIDATION
# =============================================================================

# Environment indicator
ENVIRONMENT=production
DEPLOYMENT_PLATFORM=coolify
DEPLOYMENT_DATE=2024-01-15

# =============================================================================
# NOTES FOR DEPLOYMENT
# =============================================================================

# 1. Generate strong passwords for all services
# 2. Configure your domain DNS to point to your VPS
# 3. Set up SSL certificates (Coolify can handle this automatically)
# 4. Test all integrations before going live
# 5. Set up monitoring and alerting
# 6. Configure regular backups
# 7. Document your deployment process
# 8. Set up staging environment for testing

# =============================================================================
# QUICK SETUP COMMANDS
# =============================================================================

# Generate SECRET_KEY:
# python -c "import secrets; print(secrets.token_urlsafe(50))"

# Generate strong passwords:
# openssl rand -base64 32

# Test email configuration:
# python manage.py send_test_email admin@fahaniecares.gov.ph

# Check deployment readiness:
# python manage.py check --deploy

# Collect static files:
# python manage.py collectstatic --noinput

# Run database migrations:
# python manage.py migrate

# Create superuser:
# python manage.py createsuperuser